2022-02-28 11:40:17.545  INFO 15312 --- [main] p.p.redis.service.UserServiceTest        : Starting UserServiceTest using Java 1.8.0_321 on DESKTOP-Q0U4RH0 with PID 15312 (started by 14811 in E:\Projects\IDEA_Projects\MoreStudy\redis)
2022-02-28 11:40:17.545 DEBUG 15312 --- [main] p.p.redis.service.UserServiceTest        : Running with Spring Boot v2.6.4, Spring v5.3.16
2022-02-28 11:40:17.545  INFO 15312 --- [main] p.p.redis.service.UserServiceTest        : The following 1 profile is active: "dev"
2022-02-28 11:40:18.436  INFO 15312 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2022-02-28 11:40:18.444  INFO 15312 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-02-28 11:40:18.484  INFO 15312 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2022-02-28 11:40:19.589  INFO 15312 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2022-02-28 11:40:20.286  INFO 15312 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2022-02-28 11:40:23.054  INFO 15312 --- [main] p.p.redis.service.UserServiceTest        : Started UserServiceTest in 6.424 seconds (JVM running for 8.75)
2022-02-28 11:40:23.118  INFO 15312 --- [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@24269709 testClass = UserServiceTest, testInstance = pers.pengkk27.redis.service.UserServiceTest@70325e14, testMethod = testCache@UserServiceTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@2aceadd4 testClass = UserServiceTest, locations = '{}', classes = '{class pers.pengkk27.redis.RedisApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@66d1af89, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4671e53b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@78ac1102, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@18bf3d14, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@481a15ff, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@4b4523f8], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.jdbc.support.JdbcTransactionManager@220c9a63]; rollback [true]
2022-02-28 11:40:23.574  INFO 15312 --- [main] pers.pengkk27.redis.service.UserService  : 创建用户start...
2022-02-28 11:40:23.678 DEBUG 15312 --- [main] p.p.r.c.d.repository.UserMapper.insert   : ==>  Preparing: INSERT INTO t_user ( id, username, password ) VALUES ( ?, ?, ? )
2022-02-28 11:40:23.734 DEBUG 15312 --- [main] p.p.r.c.d.repository.UserMapper.insert   : ==> Parameters: 147(Integer), admin(String), admin(String)
2022-02-28 11:40:23.734 DEBUG 15312 --- [main] p.p.r.c.d.repository.UserMapper.insert   : <==    Updates: 1
2022-02-28 11:40:23.758  INFO 15312 --- [main] pers.pengkk27.redis.service.UserService  : 获取用户信息...
2022-02-28 11:40:25.494  INFO 15312 --- [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@24269709 testClass = UserServiceTest, testInstance = pers.pengkk27.redis.service.UserServiceTest@70325e14, testMethod = testCache@UserServiceTest, testException = org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is org.springframework.data.redis.connection.PoolException: Could not get a resource from the pool; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to 127.0.0.1:6379, mergedContextConfiguration = [MergedContextConfiguration@2aceadd4 testClass = UserServiceTest, locations = '{}', classes = '{class pers.pengkk27.redis.RedisApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@66d1af89, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4671e53b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@78ac1102, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@18bf3d14, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@481a15ff, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@4b4523f8], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-02-28 11:40:25.758  INFO 15312 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2022-02-28 11:40:25.782  INFO 15312 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2022-02-28 11:41:30.990  INFO 12000 --- [main] p.p.redis.service.UserServiceTest        : Starting UserServiceTest using Java 1.8.0_321 on DESKTOP-Q0U4RH0 with PID 12000 (started by 14811 in E:\Projects\IDEA_Projects\MoreStudy\redis)
2022-02-28 11:41:30.990 DEBUG 12000 --- [main] p.p.redis.service.UserServiceTest        : Running with Spring Boot v2.6.4, Spring v5.3.16
2022-02-28 11:41:30.990  INFO 12000 --- [main] p.p.redis.service.UserServiceTest        : The following 1 profile is active: "dev"
2022-02-28 11:41:31.814  INFO 12000 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2022-02-28 11:41:31.822  INFO 12000 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-02-28 11:41:31.862  INFO 12000 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2022-02-28 11:41:32.983  INFO 12000 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2022-02-28 11:41:33.607  INFO 12000 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2022-02-28 11:41:36.279  INFO 12000 --- [main] p.p.redis.service.UserServiceTest        : Started UserServiceTest in 6.051 seconds (JVM running for 7.708)
2022-02-28 11:41:36.327  INFO 12000 --- [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@24269709 testClass = UserServiceTest, testInstance = pers.pengkk27.redis.service.UserServiceTest@70325e14, testMethod = testCache@UserServiceTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@2aceadd4 testClass = UserServiceTest, locations = '{}', classes = '{class pers.pengkk27.redis.RedisApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@66d1af89, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4671e53b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@78ac1102, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@18bf3d14, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@481a15ff, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@4b4523f8], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.jdbc.support.JdbcTransactionManager@40bb4f87]; rollback [true]
2022-02-28 11:41:36.743  INFO 12000 --- [main] pers.pengkk27.redis.service.UserService  : 创建用户start...
2022-02-28 11:41:36.839 DEBUG 12000 --- [main] p.p.r.c.d.repository.UserMapper.insert   : ==>  Preparing: INSERT INTO t_user ( id, username, password ) VALUES ( ?, ?, ? )
2022-02-28 11:41:36.887 DEBUG 12000 --- [main] p.p.r.c.d.repository.UserMapper.insert   : ==> Parameters: 55(Integer), admin(String), admin(String)
2022-02-28 11:41:36.887 DEBUG 12000 --- [main] p.p.r.c.d.repository.UserMapper.insert   : <==    Updates: 1
2022-02-28 11:41:36.919  INFO 12000 --- [main] pers.pengkk27.redis.service.UserService  : 获取用户信息...
2022-02-28 11:41:38.687 DEBUG 12000 --- [main] p.p.r.c.d.r.UserMapper.selectById        : ==>  Preparing: SELECT id,username,password FROM t_user WHERE id=?
2022-02-28 11:41:38.687 DEBUG 12000 --- [main] p.p.r.c.d.r.UserMapper.selectById        : ==> Parameters: 55(Integer)
2022-02-28 11:41:38.711 DEBUG 12000 --- [main] p.p.r.c.d.r.UserMapper.selectById        : <==      Total: 1
2022-02-28 11:41:38.823  INFO 12000 --- [main] pers.pengkk27.redis.service.UserService  : 获取用户信息...
2022-02-28 11:41:38.939  INFO 12000 --- [main] pers.pengkk27.redis.service.UserService  : 从缓存中获取了用户id = 55
2022-02-28 11:41:38.939  INFO 12000 --- [main] pers.pengkk27.redis.service.UserService  : 更新用户start...
2022-02-28 11:41:38.947 DEBUG 12000 --- [main] p.p.r.c.d.r.UserMapper.updateById        : ==>  Preparing: UPDATE t_user SET username=?, password=? WHERE id=?
2022-02-28 11:41:38.955 DEBUG 12000 --- [main] p.p.r.c.d.r.UserMapper.updateById        : ==> Parameters: admin(String), 123456(String), 55(Integer)
2022-02-28 11:41:38.955 DEBUG 12000 --- [main] p.p.r.c.d.r.UserMapper.updateById        : <==    Updates: 1
2022-02-28 11:41:39.127  INFO 12000 --- [main] pers.pengkk27.redis.service.UserService  : 更新用户时候，从缓存中删除用户 >> 55
2022-02-28 11:41:39.127  INFO 12000 --- [main] pers.pengkk27.redis.service.UserService  : 获取用户信息...
2022-02-28 11:41:39.127 DEBUG 12000 --- [main] p.p.r.c.d.r.UserMapper.selectById        : ==>  Preparing: SELECT id,username,password FROM t_user WHERE id=?
2022-02-28 11:41:39.127 DEBUG 12000 --- [main] p.p.r.c.d.r.UserMapper.selectById        : ==> Parameters: 55(Integer)
2022-02-28 11:41:39.127 DEBUG 12000 --- [main] p.p.r.c.d.r.UserMapper.selectById        : <==      Total: 1
2022-02-28 11:41:39.135  INFO 12000 --- [main] pers.pengkk27.redis.service.UserService  : 删除用户start...
2022-02-28 11:41:39.135 DEBUG 12000 --- [main] p.p.r.c.d.r.UserMapper.deleteById        : ==>  Preparing: DELETE FROM t_user WHERE id=?
2022-02-28 11:41:39.135 DEBUG 12000 --- [main] p.p.r.c.d.r.UserMapper.deleteById        : ==> Parameters: 55(Integer)
2022-02-28 11:41:39.135 DEBUG 12000 --- [main] p.p.r.c.d.r.UserMapper.deleteById        : <==    Updates: 1
2022-02-28 11:41:39.143  INFO 12000 --- [main] pers.pengkk27.redis.service.UserService  : 更新用户时候，从缓存中删除用户 >> 55
2022-02-28 11:41:39.143  INFO 12000 --- [main] pers.pengkk27.redis.service.UserService  : 获取用户信息...
2022-02-28 11:41:39.143 DEBUG 12000 --- [main] p.p.r.c.d.r.UserMapper.selectById        : ==>  Preparing: SELECT id,username,password FROM t_user WHERE id=?
2022-02-28 11:41:39.151 DEBUG 12000 --- [main] p.p.r.c.d.r.UserMapper.selectById        : ==> Parameters: 55(Integer)
2022-02-28 11:41:39.151 DEBUG 12000 --- [main] p.p.r.c.d.r.UserMapper.selectById        : <==      Total: 0
2022-02-28 11:41:39.167  INFO 12000 --- [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@24269709 testClass = UserServiceTest, testInstance = pers.pengkk27.redis.service.UserServiceTest@70325e14, testMethod = testCache@UserServiceTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@2aceadd4 testClass = UserServiceTest, locations = '{}', classes = '{class pers.pengkk27.redis.RedisApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@66d1af89, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4671e53b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@78ac1102, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@18bf3d14, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@481a15ff, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@4b4523f8], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-02-28 11:41:39.439  INFO 12000 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2022-02-28 11:41:39.455  INFO 12000 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
